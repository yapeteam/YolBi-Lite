<?xml version="1.0" encoding="UTF-8" ?>
<root>
    <rootdir>./</rootdir>
    <output>build</output>
    <build>
        <artifact name="agent.jar">
            <files>out/production/Agent</files>
        </artifact>
        <artifact name="definer.jar">
            <files>out/production/JarLoader</files>
        </artifact>
        <artifact name="loader.jar">
            <files>out/production/Loader</files>
        </artifact>
        <artifact name="hooker.jar">
            <files>out/production/Hooker</files>
        </artifact>
        <artifact name="ymixin.jar">
            <files>out/production/YMixin</files>
        </artifact>
        <artifact name="injection-1.8.9.jar" proguard-config="injection-1.8.9.pro" shield-config="injection-1.8.9.json">
            <files>out/production/Core-1.8.9</files>
            <files>out/production/VersionInfo</files>
        </artifact>
        <artifact name="injection-1.12.2.jar" proguard-config="injection-1.12.2.pro"
                  shield-config="injection-1.12.2.json">
            <files>out/production/Core-1.12.2</files>
            <files>out/production/VersionInfo</files>
        </artifact>
        <artifact name="injection-1.18.1.jar"
                  proguard-config="injection-1.18.1.pro" shield-config="injection-1.18.1.json">
            <files>out/production/Core-1.18.1</files>
            <files>out/production/VersionInfo</files>
        </artifact>
        <native-obfuscate artifact="definer.jar"/>
        <native-obfuscate artifact="hooker.jar"/>
        <native-obfuscate artifact="loader.jar" black="cn.yapeteam.loader.ClassMapper"/>
        <artifact name="injector.jar" launch4j-config="launch4j.xml">
            <files>out/production/Injector</files>
            <files>out/production/VersionInfo</files>
            <dir>Injector/META-INF</dir>
            <extract>deps/shared/jna.jar</extract>
            <extract>deps/shared/flatlaf.jar</extract>
            <extract>deps/shared/flatlaf-intellij-themes.jar</extract>
            <extract platform="windows">deps/windows/tools.jar</extract>
            <extract platform="mac">deps/darwin/tools.jar</extract>
            <archive name="injection.zip">
                <dir>resources</dir>
                <dir name="injection">
                    <file>build/injection-1.8.9.jar</file>
                    <file>build/injection-1.12.2.jar</file>
                    <file>build/injection-1.18.1.jar</file>
                </dir>
                <dir name="dependencies">
                    <file>deps/shared/asm-all-9.2.jar</file>
                    <file>deps/shared/commons-io.jar</file>
                    <file>deps/shared/commons-imaging.jar</file>
                </dir>
                <files>build/natives</files>
                <file>build/agent.jar</file>
                <file>build/definer.jar</file>
                <file>build/loader.jar</file>
                <file>build/hooker.jar</file>
                <file>build/ymixin.jar</file>
                <file platform="windows">Loader/dll/build/libinjection.dll</file>
                <file platform="windows">Loader/dll/build/libapi.dll</file>
                <file platform="windows">Loader/dll/build/libagent.dll</file>
                <file platform="mac">Loader/dll/build/libagent.dylib</file>
            </archive>
        </artifact>
        <artifact name="build.zip">
            <file>build/injector.jar</file>
            <file platform="windows">Loader/dll/build/libauth.dll</file>
            <extract>resources/deps.zip</extract>
        </artifact>
    </build>
</root>